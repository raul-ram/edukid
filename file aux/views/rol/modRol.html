<div class="modal fade" id="modModal" tabindex="-1" role="dialog"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<!-- 			<div class="modal-header"> -->

			<!-- 			</div> -->
			<div class="modal-body">
				<div class="box-header with-border">
					<h3 class="box-title">Modificar Rol</h3>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>

				<!-- /.box-header -->
				<!-- form start -->
				<form class="form-horizontal" id="modForm">
					<div class="box-body">
						<div class="form-group">
							<label for="nombre" class="col-sm-2 control-label">Nombre</label>

							<div class="col-sm-10">
								<input type="text" class="form-control" id="nombre"
									name="nombre" value="$rol.nombre " autofocus="autofocus">
							</div>
							<input type="hidden" class="form-control" id="idrol" name="idrol"
								value="$rol.idrol ">
						</div>
						<div class="form-group">
							<label for="for-direccion" class="col-form-label">Menus</label> <select
								name="menus" multiple="multiple"> 
								#foreach($i in $noAsignado)
									<option value="$i.idmenu" selected>$i.nombre</option> #end 
								#foreach($i in $asignado)
								<option value="$i.idmenu" >$i.nombre</option> #end

							</select>
						</div>
					</div>
					<!-- /.box-body -->
					<div class="box-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
						<button type="button" class="btn btn-info pull-right"
							id="btn-modify">Guardar</button>
					</div>
					<!-- /.box-footer -->
				</form>
			</div>
		</div>
	</div>
</div>

<script>
	var demo2 = $('select[name="menus"]').bootstrapDualListbox();
	//modificar
	$('#btn-modify').click(function() {
		console.log($('#modForm').serialize())
		$.ajax({
			url : 'rol/modify.html',
			type : 'post',
			data : $('#modForm').serialize(),
			dataType : 'json',
			success : function(res) {
				console.log("res: ", res);
				$('#modModal').modal('hide');
				UpdateView();
			},
			error : function(jqXHR, estado, error) {
				console.log(estado, error, jqXHR);
				console.log("Upps ocurrio algo!!!");
				UpdateView();
			}
		});
	});
</script>